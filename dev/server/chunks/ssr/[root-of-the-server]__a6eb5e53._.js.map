{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/mohitkumarbhullan/Desktop/growtools/client/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined;\n};\n\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient({\n  log: process.env.NODE_ENV === 'development' ? ['error', 'warn'] : ['error'],\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  globalForPrisma.prisma = prisma;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,wOAAY,CAAC;IAC/D,KAAK,uCAAyC;QAAC;QAAS;KAAO,GAAG;AACpE;AAEA,wCAA2C;IACzC,gBAAgB,MAAM,GAAG;AAC3B"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///Users/mohitkumarbhullan/Desktop/growtools/client/src/lib/auth.ts"],"sourcesContent":["import { NextAuthOptions } from \"next-auth\";\nimport CredentialsProvider from \"next-auth/providers/credentials\";\nimport { PrismaAdapter } from \"@auth/prisma-adapter\";\nimport { prisma } from \"@/lib/prisma\";\nimport bcrypt from \"bcryptjs\";\n\nexport const authOptions: NextAuthOptions = {\n  adapter: PrismaAdapter(prisma) as any,\n  providers: [\n    CredentialsProvider({\n      name: \"credentials\",\n      credentials: {\n        email: { label: \"Email\", type: \"email\" },\n        password: { label: \"Password\", type: \"password\" },\n      },\n      async authorize(credentials) {\n        if (!credentials?.email || !credentials?.password) {\n          throw new Error(\"Invalid credentials\");\n        }\n\n        const user = await prisma.user.findUnique({\n          where: {\n            email: credentials.email,\n          },\n        });\n\n        if (!user || !user.passwordHash) {\n          throw new Error(\"Invalid credentials\");\n        }\n\n        const isCorrectPassword = await bcrypt.compare(\n          credentials.password,\n          user.passwordHash\n        );\n\n        if (!isCorrectPassword) {\n          throw new Error(\"Invalid credentials\");\n        }\n\n        return {\n          id: user.id,\n          email: user.email,\n          name: user.name,\n          role: user.role,\n        };\n      },\n    }),\n  ],\n  session: {\n    strategy: \"jwt\",\n  },\n  pages: {\n    signIn: \"/login\",\n  },\n  callbacks: {\n    async jwt({ token, user }) {\n      if (user) {\n        token.id = user.id;\n        token.role = (user as any).role;\n      }\n      return token;\n    },\n    async session({ session, token }) {\n      if (session.user) {\n        (session.user as any).id = token.id;\n        (session.user as any).role = token.role;\n      }\n      return session;\n    },\n  },\n  secret: process.env.NEXTAUTH_SECRET,\n};\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;;;AAEO,MAAM,cAA+B;IAC1C,SAAS,IAAA,uMAAa,EAAC,gKAAM;IAC7B,WAAW;QACT,IAAA,qMAAmB,EAAC;YAClB,MAAM;YACN,aAAa;gBACX,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAQ;gBACvC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YAClD;YACA,MAAM,WAAU,WAAW;gBACzB,IAAI,CAAC,aAAa,SAAS,CAAC,aAAa,UAAU;oBACjD,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,OAAO,MAAM,gKAAM,CAAC,IAAI,CAAC,UAAU,CAAC;oBACxC,OAAO;wBACL,OAAO,YAAY,KAAK;oBAC1B;gBACF;gBAEA,IAAI,CAAC,QAAQ,CAAC,KAAK,YAAY,EAAE;oBAC/B,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,oBAAoB,MAAM,8KAAM,CAAC,OAAO,CAC5C,YAAY,QAAQ,EACpB,KAAK,YAAY;gBAGnB,IAAI,CAAC,mBAAmB;oBACtB,MAAM,IAAI,MAAM;gBAClB;gBAEA,OAAO;oBACL,IAAI,KAAK,EAAE;oBACX,OAAO,KAAK,KAAK;oBACjB,MAAM,KAAK,IAAI;oBACf,MAAM,KAAK,IAAI;gBACjB;YACF;QACF;KACD;IACD,SAAS;QACP,UAAU;IACZ;IACA,OAAO;QACL,QAAQ;IACV;IACA,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,KAAK,EAAE;gBAClB,MAAM,IAAI,GAAG,AAAC,KAAa,IAAI;YACjC;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,IAAI,QAAQ,IAAI,EAAE;gBACf,QAAQ,IAAI,CAAS,EAAE,GAAG,MAAM,EAAE;gBAClC,QAAQ,IAAI,CAAS,IAAI,GAAG,MAAM,IAAI;YACzC;YACA,OAAO;QACT;IACF;IACA,QAAQ,QAAQ,GAAG,CAAC,eAAe;AACrC"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///Users/mohitkumarbhullan/Desktop/growtools/client/src/app/admin/layout.tsx"],"sourcesContent":["import { getServerSession } from \"next-auth\";\nimport { redirect } from \"next/navigation\";\nimport { authOptions } from \"@/lib/auth\";\nimport Link from \"next/link\";\nimport { LayoutDashboard, Wrench, Users, CreditCard, BarChart3, Cookie } from \"lucide-react\";\n\nexport default async function AdminLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const session = await getServerSession(authOptions);\n\n  // Check if user is authenticated and is admin\n  if (!session) {\n    redirect(\"/login\");\n  }\n\n  if ((session.user as any).role !== \"ADMIN\") {\n    redirect(\"/dashboard\");\n  }\n\n  const menuItems = [\n    { href: \"/admin\", label: \"Dashboard\", icon: LayoutDashboard },\n    { href: \"/admin/tools\", label: \"Tools\", icon: Wrench },\n    { href: \"/admin/users\", label: \"Users\", icon: Users },\n    { href: \"/admin/subscriptions\", label: \"Subscriptions\", icon: CreditCard },\n    { href: \"/admin/analytics\", label: \"Analytics\", icon: BarChart3 },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-background\">\n      <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"mb-6\">\n          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Admin Panel</h1>\n          <p className=\"text-gray-600 dark:text-gray-400\">Manage tools, users, and subscriptions</p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          {/* Sidebar */}\n          <aside className=\"md:col-span-1\">\n            <div className=\"bg-white dark:bg-gray-900 rounded-lg p-6 sticky top-24\">\n              <nav className=\"space-y-2\">\n                {menuItems.map((item) => {\n                  const Icon = item.icon;\n                  return (\n                    <Link\n                      key={item.href}\n                      href={item.href}\n                      className=\"flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition\"\n                    >\n                      <Icon className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\n                      <span className=\"text-sm font-medium\">{item.label}</span>\n                    </Link>\n                  );\n                })}\n              </nav>\n\n              <div className=\"mt-6 pt-6 border-t\">\n                <Link\n                  href=\"/dashboard\"\n                  className=\"flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition text-sm text-gray-600 dark:text-gray-400\"\n                >\n                  ‚Üê Back to User Dashboard\n                </Link>\n              </div>\n            </div>\n          </aside>\n\n          {/* Main Content */}\n          <main className=\"md:col-span-3\">\n            {children}\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;;;;;;;AAEe,eAAe,YAAY,EACxC,QAAQ,EAGT;IACC,MAAM,UAAU,MAAM,IAAA,2LAAgB,EAAC,mKAAW;IAElD,8CAA8C;IAC9C,IAAI,CAAC,SAAS;QACZ,IAAA,mOAAQ,EAAC;IACX;IAEA,IAAI,AAAC,QAAQ,IAAI,CAAS,IAAI,KAAK,SAAS;QAC1C,IAAA,mOAAQ,EAAC;IACX;IAEA,MAAM,YAAY;QAChB;YAAE,MAAM;YAAU,OAAO;YAAa,MAAM,iRAAe;QAAC;QAC5D;YAAE,MAAM;YAAgB,OAAO;YAAS,MAAM,kPAAM;QAAC;QACrD;YAAE,MAAM;YAAgB,OAAO;YAAS,MAAM,+OAAK;QAAC;QACpD;YAAE,MAAM;YAAwB,OAAO;YAAiB,MAAM,kQAAU;QAAC;QACzE;YAAE,MAAM;YAAoB,OAAO;YAAa,MAAM,iQAAS;QAAC;KACjE;IAED,qBACE,gRAAC;QAAI,WAAU;kBACb,cAAA,gRAAC;YAAI,WAAU;;8BACb,gRAAC;oBAAI,WAAU;;sCACb,gRAAC;4BAAG,WAAU;sCAAmD;;;;;;sCACjE,gRAAC;4BAAE,WAAU;sCAAmC;;;;;;;;;;;;8BAGlD,gRAAC;oBAAI,WAAU;;sCAEb,gRAAC;4BAAM,WAAU;sCACf,cAAA,gRAAC;gCAAI,WAAU;;kDACb,gRAAC;wCAAI,WAAU;kDACZ,UAAU,GAAG,CAAC,CAAC;4CACd,MAAM,OAAO,KAAK,IAAI;4CACtB,qBACE,gRAAC,4NAAI;gDAEH,MAAM,KAAK,IAAI;gDACf,WAAU;;kEAEV,gRAAC;wDAAK,WAAU;;;;;;kEAChB,gRAAC;wDAAK,WAAU;kEAAuB,KAAK,KAAK;;;;;;;+CAL5C,KAAK,IAAI;;;;;wCAQpB;;;;;;kDAGF,gRAAC;wCAAI,WAAU;kDACb,cAAA,gRAAC,4NAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;sCAQP,gRAAC;4BAAK,WAAU;sCACb;;;;;;;;;;;;;;;;;;;;;;;AAMb"}}]
}